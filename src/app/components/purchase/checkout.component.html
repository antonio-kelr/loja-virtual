<app-header></app-header>

<div class="checkout-container">
  <h2>Finalizar Compra</h2>

  <div class="itens-carrinho" *ngIf="itensCarrinho.length > 0">
    <h3>Itens do Carrinho</h3>

    <div class="item-lista">
      <div class="item-checkout" *ngFor="let item of itensCarrinho">
        <div class="item-info">
          <div class="item-imagem">
            <img src="https://images8.kabum.com.br/produtos/fotos/320908/gabinete-gamer-rise-mode-galaxy-glass-lateral-em-vidro-temperado-preto-rm-ga-gg-fb_1657738212_g.jpg" alt="Imagem do produto">
          </div>
          <div class="item-detalhes">
            <div class="item-nome">{{ item.descricao }}</div>
            <div class="item-qtd">Quantidade: {{ item.quantidade }}</div>
            <div class="item-preco">R$ {{ (item.precoAtual * item.quantidade).toFixed(2) }}</div>
          </div>
        </div>
      </div>
    </div>

    <div class="resumo-compra">
      <div class="resumo-titulo">Resumo da Compra</div>
      <div class="resumo-linha">
        <span>Subtotal:</span>
        <span>R$ {{ totalCompra.toFixed(2) }}</span>
      </div>
      <div class="resumo-linha">
        <span>Frete:</span>
        <span>Grátis</span>
      </div>
      <div class="resumo-linha total">
        <span>Total:</span>
        <span>R$ {{ totalCompra.toFixed(2) }}</span>
      </div>
    </div>

    <div class="acoes-compra">
      <button class="btn-continuar" (click)="continuarCompra()">Continuar Comprando</button>
      <button class="btn-finalizar-compra" (click)="irParaPagamento()">Ir para Pagamento</button>
    </div>
  </div>

  <div class="pagamento-container" *ngIf="mostrarPagamento">
    <div class="metodos-pagamento">
      <h3>Método de Pagamento</h3>

      <div class="opcoes-pagamento">
        <div class="opcao" [class.selecionado]="metodoPagamento === 'pix'" (click)="metodoPagamento = 'pix'">
          <div class="radio-button">
            <div class="inner-circle" *ngIf="metodoPagamento === 'pix'"></div>
          </div>
          <div class="opcao-info">
            <span class="titulo-opcao">PIX</span>
            <span class="descricao-opcao">Pagamento instantâneo</span>
          </div>
        </div>

        <div class="opcao" [class.selecionado]="metodoPagamento === 'cartao'" (click)="metodoPagamento = 'cartao'">
          <div class="radio-button">
            <div class="inner-circle" *ngIf="metodoPagamento === 'cartao'"></div>
          </div>
          <div class="opcao-info">
            <span class="titulo-opcao">Cartão de Crédito/Débito</span>
            <span class="descricao-opcao">Visa, Mastercard, Elo e outros</span>
          </div>
        </div>
      </div>

      <div class="detalhes-pagamento" *ngIf="metodoPagamento === 'pix'">
        <div class="qr-code-container">
          <div class="qr-code-placeholder">
            <!-- Substituir por componente de QR Code real -->
            QR Code do PIX
          </div>
          <button class="copiar-codigo">Copiar código PIX</button>
        </div>
      </div>

      <div class="detalhes-pagamento" *ngIf="metodoPagamento === 'cartao'">
        <div class="form-cartao">
          <div class="input-group">
            <label>Número do Cartão</label>
            <input type="text" placeholder="0000 0000 0000 0000">
          </div>
          <div class="input-row">
            <div class="input-group">
              <label>Validade</label>
              <input type="text" placeholder="MM/AA">
            </div>
            <div class="input-group">
              <label>CVV</label>
              <input type="text" placeholder="123">
            </div>
          </div>
          <div class="input-group">
            <label>Nome no Cartão</label>
            <input type="text" placeholder="NOME COMO NO CARTÃO">
          </div>
        </div>
      </div>
    </div>

    <div class="confirmar-pagamento">
      <button class="btn-confirmar" (click)="finalizarCompra()">Confirmar Pagamento</button>
    </div>
  </div>
</div>

<app-footer></app-footer>
