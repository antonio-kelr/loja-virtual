<app-header></app-header>

<div class="produto-detalhes-container" *ngIf="produto">
  <h1 class="produto-titulo principal">{{ produto.nome }}</h1>

  <div class="produto-grid">
    <!-- Seção de imagens -->
    <div class="produto-imagens">
      <div class="imagem-principal">
        <img
          [src]="produto.imagens?.[0]?.url || 'https://via.placeholder.com/400'"
          [alt]="produto.nome"
          class="imagem-produto"
        />
      </div>
      <!-- Miniaturas das imagens -->
      <div class="miniaturas" *ngIf="produto.imagens && produto.imagens.length > 1">
        <div class="miniatura" *ngFor="let imagem of produto.imagens">
          <img [src]="imagem.url" [alt]="imagem.titulo" />
        </div>
      </div>
    </div>

    <!-- Seção de informações -->
    <div class="produto-info">
      <!-- Preço e condições -->
      <div class="produto-preco-container">
        <div class="preco-antigo" *ngIf="produto.precoAntigo">
          <span>De: </span>
          <span class="riscado"
            >R$ {{ produto.precoAntigo | number : "1.2-2" }}</span
          >
        </div>
        <div class="preco-atual">
          <span>Por: </span>
          <span class="valor">R$ {{ produto.preco | number : "1.2-2" }}</span>
        </div>
        <div class="condicoes">
          À vista no PIX
          <div class="parcelamento">
            ou até
            <strong>10x de R$ {{ precoParcelado | number : "1.2-2" }} sem juros</strong>
          </div>
        </div>
      </div>

      <!-- Opções de frete -->
      <div class="opcoes-frete">
        <h3>
          <fa-icon [icon]="faTruck"></fa-icon>
          Opções de Frete
        </h3>
        <div class="frete-lista">
          <div
            *ngFor="let frete of opcoesFrete"
            class="frete-opcao"
            [class.selecionado]="freteSelecionado === frete"
            (click)="selecionarFrete(frete)"
          >
            <div class="radio">
              <div class="radio-inner" *ngIf="freteSelecionado === frete"></div>
            </div>
            <div class="frete-info">
              <div class="frete-tipo">{{ frete.tipo }}</div>
              <div class="frete-prazo">{{ frete.prazo }}</div>
            </div>
            <div class="frete-preco">
              {{
                frete.preco === 0 ? "Grátis" : "R$ " + frete.preco.toFixed(2)
              }}
            </div>
          </div>
        </div>
      </div>

      <!-- Botões de ação -->
      <div class="botoes-acao">
        <button class="btn-comprar" disabled>Em breve</button>
      </div>
    </div>
  </div>

  <!-- Seção de descrição e especificações -->
  <div class="produto-detalhes-tabs">
    <div class="tabs-header">
      <div
        class="tab-item"
        [class.active]="tabAtiva === 'descricao'"
        (click)="selecionarTab('descricao')"
      >
        Descrição
      </div>
      <div
        class="tab-item"
        [class.active]="tabAtiva === 'especificacoes'"
        (click)="selecionarTab('especificacoes')"
      >
        Especificações
      </div>
    </div>
    <div class="tabs-content">
      <div class="tab-content" [class.active]="tabAtiva === 'descricao'">
        <h3>Descrição do Produto</h3>
        <p>{{ produto.descricao }}</p>
      </div>
      <div class="tab-content" [class.active]="tabAtiva === 'especificacoes'">
        <h3>Especificações</h3>
        <div class="especificacoes-lista">
          <div class="especificacao-item">
            <div class="especificacao-nome">Modelo</div>
            <div class="especificacao-valor">{{ produto.descricao }}</div>
          </div>
          <div class="especificacao-item">
            <div class="especificacao-nome">Marca</div>
            <div class="especificacao-valor">Marca do Produto</div>
          </div>
          <div class="especificacao-item">
            <div class="especificacao-nome">Garantia</div>
            <div class="especificacao-valor">12 meses de garantia</div>
          </div>
          <!-- Mais especificações seriam adicionadas dinamicamente -->
        </div>
      </div>
    </div>
  </div>
</div>

<div class="produto-nao-encontrado" *ngIf="!produto">
  <h2>Produto não encontrado</h2>
  <p>Desculpe, não conseguimos encontrar o produto que você está procurando.</p>
  <a routerLink="/" class="btn-voltar-home">Voltar para a página inicial</a>
</div>

<app-footer></app-footer>
